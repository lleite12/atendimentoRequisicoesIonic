{"version":3,"sources":["src/app/cons-req/cons-req.page.html","src/app/cons-req/cons-req-routing.module.ts","src/app/cons-req/cons-req.module.ts","src/app/cons-req/cons-req.page.scss","src/app/cons-req/cons-req.page.ts"],"names":[],"mappings":"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","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-menu-button></ion-menu-button>\\n    </ion-buttons>\\n    <ion-buttons slot=\\\"end\\\">\\n      <ion-back-button></ion-back-button>\\n    </ion-buttons>\\n    <ion-title>Consulta</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n\\n  <ion-card-content>\\n\\n    <ion-grid fixed>\\n      <ion-row>\\n        <ion-col size=\\\"9\\\">\\n          <ion-input type=\\\"number\\\" (dblclick)=\\\"scanCode()\\\" [(ngModel)]=\\\"requisicao\\\" placeholder=\\\"Documento\\\"></ion-input>\\n        </ion-col>\\n        <ion-col size=\\\"3\\\">\\n          <ion-button (click)=\\\"selecionar()\\\" expand=\\\"block\\\" fill=\\\"clear\\\" shape=\\\"round\\\">\\n            Buscar\\n          </ion-button>\\n        </ion-col>\\n      </ion-row>\\n    </ion-grid>\\n\\n  </ion-card-content>\\n\\n  <div style=\\\"overflow-x: scroll;\\\">\\n    <table id='minhaTabela' style=\\\"min-width: 100%;\\\">\\n      <thead>\\n        <tr>\\n          <th>T</th>\\n          <th>Doc.</th>\\n          <th>Est</th>\\n          <th>Data</th>\\n          <th>Req</th>\\n        <tr>\\n      </thead>\\n      <tbody>\\n        <tr *ngFor=\\\"let r of requisicoes\\\" (click)=\\\"selLinha(r)\\\" [style.background-color]=\\\"r == regSel ? '#aff7ff':''\\\">\\n          <td>{{r[\\\"tipo-req\\\"]}}</td>\\n          <td>{{r[\\\"cod-doc\\\"]}}</td>\\n          <td>{{r[\\\"cod-estabel\\\"]}}</td>\\n          <td>{{r[\\\"data-req\\\"]}}</td>\\n          <td>{{r[\\\"nome-req\\\"]}}</td>\\n        </tr>\\n      </tbody>\\n    </table>\\n  </div>\\n</ion-content>\\n<br>\\n<ion-footer>\\n  <ion-toolbar>\\n    <ion-button (click)=\\\"atender()\\\" expand=\\\"block\\\" fill=\\\"clear\\\" shape=\\\"round\\\">\\n      Atender\\n    </ion-button>\\n  </ion-toolbar>\\n</ion-footer>\"","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { ConsReqPage } from './cons-req.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ConsReqPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class ConsReqPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { ConsReqPageRoutingModule } from './cons-req-routing.module';\n\nimport { ConsReqPage } from './cons-req.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    ConsReqPageRoutingModule\n  ],\n  declarations: [ConsReqPage]\n})\nexport class ConsReqPageModule {}\n","export default \"@charset \\\"UTF-8\\\";\\n#minhaTabela {\\n  margin: 0 auto;\\n  border: 0;\\n  box-shadow: 0 5px 30px darkgrey;\\n  border-spacing: 0;\\n}\\n#minhaTabela thead th {\\n  font-weight: bold;\\n  background-color: #2584bb;\\n  color: white;\\n  padding: 5px 10px;\\n}\\n#minhaTabela tr td {\\n  width: 80%;\\n  padding: 5px 10px;\\n  text-align: center;\\n  cursor: pointer;\\n  /**importante para não mostrar cursor de texto**/\\n}\\n#minhaTabela tr td:last-child {\\n  text-align: right;\\n}\\n/**Cores**/\\n#minhaTabela tr:nth-child(odd) {\\n  background-color: #eee;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29ucy1yZXEvY29ucy1yZXEucGFnZS5zY3NzIiwic3JjL2FwcC9jb25zLXJlcS9DOlxcYXBwc1xcYXBwLXNhbm92b1xcQXV0b21hY2FvTWF0ZXJpYWlzL3NyY1xcYXBwXFxjb25zLXJlcVxcY29ucy1yZXEucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLGdCQUFnQjtBQ0FoQjtFQUNJLGNBQUE7RUFDQSxTQUFBO0VBQ0EsK0JBQUE7RUFDQSxpQkFBQTtBREVKO0FDQ0U7RUFDRSxpQkFBQTtFQUNBLHlCQUFBO0VBQ0EsWUFBQTtFQUVBLGlCQUFBO0FEQ0o7QUNFRTtFQUNFLFVBQUE7RUFDQSxpQkFBQTtFQUNBLGtCQUFBO0VBRUEsZUFBQTtFQUFpQixnREFBQTtBRENyQjtBQ0VFO0VBQ0UsaUJBQUE7QURDSjtBQ0VFLFVBQUE7QUFDQTtFQUNFLHNCQUFBO0FEQ0oiLCJmaWxlIjoic3JjL2FwcC9jb25zLXJlcS9jb25zLXJlcS5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJAY2hhcnNldCBcIlVURi04XCI7XG4jbWluaGFUYWJlbGEge1xuICBtYXJnaW46IDAgYXV0bztcbiAgYm9yZGVyOiAwO1xuICBib3gtc2hhZG93OiAwIDVweCAzMHB4IGRhcmtncmV5O1xuICBib3JkZXItc3BhY2luZzogMDtcbn1cblxuI21pbmhhVGFiZWxhIHRoZWFkIHRoIHtcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gIGJhY2tncm91bmQtY29sb3I6ICMyNTg0YmI7XG4gIGNvbG9yOiB3aGl0ZTtcbiAgcGFkZGluZzogNXB4IDEwcHg7XG59XG5cbiNtaW5oYVRhYmVsYSB0ciB0ZCB7XG4gIHdpZHRoOiA4MCU7XG4gIHBhZGRpbmc6IDVweCAxMHB4O1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gIGN1cnNvcjogcG9pbnRlcjtcbiAgLyoqaW1wb3J0YW50ZSBwYXJhIG7Do28gbW9zdHJhciBjdXJzb3IgZGUgdGV4dG8qKi9cbn1cblxuI21pbmhhVGFiZWxhIHRyIHRkOmxhc3QtY2hpbGQge1xuICB0ZXh0LWFsaWduOiByaWdodDtcbn1cblxuLyoqQ29yZXMqKi9cbiNtaW5oYVRhYmVsYSB0cjpudGgtY2hpbGQob2RkKSB7XG4gIGJhY2tncm91bmQtY29sb3I6ICNlZWU7XG59IiwiI21pbmhhVGFiZWxhe1xyXG4gICAgbWFyZ2luOjAgYXV0bztcclxuICAgIGJvcmRlcjowO1xyXG4gICAgYm94LXNoYWRvdzogMCA1cHggMzBweCBkYXJrZ3JleTtcclxuICAgIGJvcmRlci1zcGFjaW5nOiAwO1xyXG4gIH1cclxuICBcclxuICAjbWluaGFUYWJlbGEgdGhlYWQgdGh7XHJcbiAgICBmb250LXdlaWdodDogYm9sZDtcclxuICAgIGJhY2tncm91bmQtY29sb3I6IHJnYigzNywgMTMyLCAxODcpO1xyXG4gICAgY29sb3I6d2hpdGU7XHJcbiAgICBcclxuICAgIHBhZGRpbmc6NXB4IDEwcHg7XHJcbiAgfVxyXG4gIFxyXG4gICNtaW5oYVRhYmVsYSB0ciB0ZHtcclxuICAgIHdpZHRoOjgwJTtcclxuICAgIHBhZGRpbmc6NXB4IDEwcHg7XHJcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgICBcclxuICAgIGN1cnNvcjogcG9pbnRlcjsgLyoqaW1wb3J0YW50ZSBwYXJhIG7Do28gbW9zdHJhciBjdXJzb3IgZGUgdGV4dG8qKi9cclxuICB9XHJcbiAgXHJcbiAgI21pbmhhVGFiZWxhIHRyIHRkOmxhc3QtY2hpbGR7XHJcbiAgICB0ZXh0LWFsaWduOiByaWdodDtcclxuICB9XHJcbiAgXHJcbiAgLyoqQ29yZXMqKi9cclxuICAjbWluaGFUYWJlbGEgdHI6bnRoLWNoaWxkKG9kZCl7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZWVlO1xyXG4gIH1cclxuXHJcbiJdfQ== */\"","//Desenvolvido por: lucas Leite - INSTI\nimport { Component, OnInit } from '@angular/core';\nimport { AppModule } from '../app.module';\nimport { NavController } from '@ionic/angular';\nimport { AlertController } from '@ionic/angular';\nimport { BarcodeScannerOptions, BarcodeScanner } from \"@ionic-native/barcode-scanner/ngx\";\nimport { HTTP } from '@ionic-native/http/ngx';\nimport { Platform, LoadingController } from '@ionic/angular';\nimport { Location, formatDate } from'@angular/common'; \n\nimport xml2js from 'xml2js';\n\n@Component({\n  selector: 'app-cons-req',\n  templateUrl: './cons-req.page.html',\n  styleUrls: ['./cons-req.page.scss'],\n})\n\nexport class ConsReqPage implements OnInit {\n\n  barcodeScannerOptions: BarcodeScannerOptions;\n\n  headers: Headers = new Headers({ \"Content-Type\": \"application/x-www-form-urlencoded\" });\n  testBaseURL;\n  param: any;\n  param2;\n  token: any = null;\n\n  loading: any;\n\n  resultados: any;\n  retorno: any;\n  VALUE1: any;\n\n  requisicoes: any[] = [];\n\n  regSel: any;\n  scannedData: {};\n  requisicao: any;\n  \n  constructor(public alertController: AlertController,\n    public navCtrl: NavController,\n    public loadingCtrl: LoadingController,\n    private barcodeScanner: BarcodeScanner,\n    private nativeHttp: HTTP) {\n\n    this.testBaseURL = AppModule.getBase();\n\n    this.param = `<s11:Envelope xmlns:s11='http://schemas.xmlsoap.org/soap/envelope/'>\n      <s11:Body>\n        <ns1:userLogin xmlns:ns1='http://service.execbo.ws.framework.totvs.com'>\n    <!-- optional -->\n          <arg0>super</arg0>\n        </ns1:userLogin>\n      </s11:Body>\n    </s11:Envelope>`;\n\n    //this.getDataNative();\n\n    // Options\n    this.barcodeScannerOptions = {\n      showTorchButton: true,\n      showFlipCameraButton: true\n    };\n\n  }\n\n  scanCode() {\n\n    this.barcodeScanner\n      .scan()\n      .then(barcodeData => {\n        JSON.stringify(barcodeData);\n        this.scannedData = barcodeData;\n        this.requisicao = this.scannedData[\"text\"];\n        if (this.requisicao != null) {\n          this.selecionar();\n        }\n\n      })\n      .catch(err => {\n        console.log(\"Error\", err);\n      });\n\n  }\n\n  selecionar() {\n\n    var requisicao = this.requisicao;\n\n    var selecionado = this.requisicoes.find(function (key) {\n      // key: the name of the object key\n      // index: the ordinal position of the key within the object \n\n      if (requisicao != null)\n        return key[\"cod-doc\"] == requisicao.toString();\n\n    });\n\n    if (selecionado == null)\n      this.erroAlert('Registro não encontrado!','Registro não encontrado para o documento informado!');\n\n    this.selLinha(selecionado);\n\n    if(this.regSel != null)\n      this.atender();\n\n  };\n\n  async erroAlert(header,mes) {\n    const alert = await this.alertController.create({\n      header: header,\n      subHeader: '',\n      message: mes,\n      buttons: ['OK']\n    });\n\n    await alert.present();\n  }\n\n  selLinha(linha) {\n\n    this.regSel = linha;\n\n  }\n\n  atender() {\n\n    if (this.regSel == null) {\n      this.erroAlert('Nenhum registro!','Favor selecionar um registro do browse!');\n      return \"NOK\";\n    }\n\n    AppModule.setReg(this.regSel);\n\n    this.navCtrl.navigateForward(\"atendReq\");\n\n  }\n\n  getDataNative() {\n\n    this.nativeHttp.setDataSerializer('utf8');\n\n    let nativeCall = this.nativeHttp.post(this.testBaseURL, this.param, {\n      'Content-Type': 'text/xml'\n    }).then(data => {      \n\n      this.showSpinner();\n      let aux: string = data.data;\n\n       this.convertXmltoJson(aux, 0);\n\n    }).catch(err => {\n\n      this.hideSpinner();\n      this.erroAlert(\"Erro na conexão!\",\"Houveram problemas na conexão com o webservice, favor verificar se está conectado na rede wifi/VPN correta ou verificar com a T.I!\")\n\n    }\n    );\n\n    this.hideSpinner();\n\n  }\n\n  convertXmltoJson(data, op): void {\n    xml2js.parseString(data, { explicitArray: false }, (error, result) => {\n      if (error) {\n        throw new Error(error);\n      } else {\n\n        this.token = result[\"env:Envelope\"][\"env:Body\"][\"ns2:userLoginResponse\"].return;\n\n        this.getCallProcedure();\n\n      }\n    });\n  }\n\n  getCallProcedure(){\n\n    this.requisicoes = [];\n    \n    this.param2 = `<soapenv:Envelope xmlns:soapenv=\"http://schemas.xmlsoap.org/soap/envelope/\" xmlns:ser=\"http://service.execbo.ws.framework.totvs.com\">\n                  <soapenv:Header/>\n                  <soapenv:Body>\n                    <ser:callProcedureWithToken>\n                        <arg0>` + this.token + `</arg0>\n                        <!--Optional:-->\n                        <arg1>esp/esapp001.p</arg1>\n                        <!--Optional:-->\n                        <arg2>busca-requisicao</arg2>\n                        <!--Optional:-->\n                        <arg3>\n                        [\n                                {\"dataType\":\"temptable\",\"name\":\"tt-param\",\"type\":\"input\",\"value\":{\"name\":\"tt-param\",\"fields\":[\n                                              {\"name\":\"data-ini\",\"label\":\"data-ini\",\"type\":\"date\"},\n                                              {\"name\":\"data-fim\",\"label\":\"data-fim\",\"type\":\"date\"},\n                                              {\"name\":\"cod-doc-ini\",\"label\":\"cod-doc-ini\",\"type\":\"integer\"},\n                                              {\"name\":\"cod-doc-fim\",\"label\":\"cod-doc-fim\",\"type\":\"integer\"},\n                                              {\"name\":\"tipo-doc\",\"label\":\"tipo-doc\",\"type\":\"integer\"},\n                                              {\"name\":\"nome-req-ini\",\"label\":\"nome-req-ini\",\"type\":\"character\"},\n                                              {\"name\":\"nome-req-fim\",\"label\":\"nome-req-fim\",\"type\":\"character\"},                                \n                                              {\"name\":\"cd-estab\",\"label\":\"cd-estab\",\"type\":\"character\"}\n                                ],\"records\":[\n                                              {\"data-ini\":\"` + formatDate(AppModule.getDtIni(), 'dd/MM/yyyy', 'en-US') + `\", \"data-fim\":\"` + formatDate(AppModule.getDtFim(), 'dd/MM/yyyy', 'en-US') + `\", \"cod-doc-ini\":` + AppModule.getDocIni() + `, \"cod-doc-fim\":` + AppModule.getDocFim() + `, \"tipo-doc\":` + AppModule.getTipo() + `, \"nome-req-ini\":\"` + AppModule.getReqIni() + `\", \"nome-req-fim\":\"` + AppModule.getReqFim() + `\", \"cd-estab\":\"` + AppModule.getEstabel() + `\"}\n                                ]}},\n                                {\"dataType\":\"temptable\",\"name\":\"tt-requisicao\",\"type\":\"output\",\"value\":{\"name\":\"tt-requisicao\",\"fields\":[\n                                  {\"name\":\"tipo-req\",\"label\":\"tipo-req\",\"type\":\"character\"},\n                                  {\"name\":\"cod-doc\",\"label\":\"cod-doc\",\"type\":\"integer\"},\n                                  {\"name\":\"cod-estabel\",\"label\":\"cod-estabel\",\"type\":\"character\"},\n                                  {\"name\":\"data-req\",\"label\":\"data-req\",\"type\":\"date\"},\n                                  {\"name\":\"nome-req\",\"label\":\"nome-req\",\"type\":\"character\"}\n                                ],\"records\":[]}},\n                                {\"dataType\":\"character\",\"name\":\"p-c-ret\",\"type\":\"output\"}\n                    ]\n                        </arg3><!--Optional:-->\n                        \n                    </ser:callProcedureWithToken>\n                  </soapenv:Body>\n              </soapenv:Envelope>`;\n\n    this.nativeHttp.setDataSerializer('utf8');\n\n    let nativeCall = this.nativeHttp.post(this.testBaseURL, this.param2, {\n      'Content-Type': 'text/xml'\n    }).then(data => {\n      // this.fazendosinc = \"Sincronizando o sistema... Aguarde!\";\n\n      console.log(\"Dados:\" + data.data);\n\n      let aux: string = data.data;\n\n      xml2js.parseString(aux, { explicitArray: false }, (error, result) => {\n        if (error) {\n          throw new Error(error);\n        } else {\n\n          this.resultados = result[\"env:Envelope\"][\"env:Body\"][\"ns2:callProcedureWithTokenResponse\"].return;\n\n          console.log(\"resultados:\" + this.resultados);\n\n          let encontrou = 0\n\n\n          this.retorno = JSON.parse(this.resultados);\n          console.log(this.retorno);\n\n          this.VALUE1 = JSON.parse(this.retorno[0].value);\n\n          var i = 0;          \n          this.VALUE1.records.forEach(dtDocs => {\n            \n            encontrou = 1;            \n            \n            dtDocs[\"data-req\"] = dtDocs[\"data-req\"].substring(0,10);\n            this.requisicoes.push(dtDocs);\n          });\n\n          this.hideSpinner();\n\n          if (encontrou == 0) {            \n            this.erroAlert(\"Erro!\",this.retorno[1].value);\n          }\n\n        }\n      });\n    \n    }).catch(err => {\n\n      this.hideSpinner();\n      this.erroAlert(\"ERRO!\", err)\n\n    }\n    );\n\n  }\n\n  ngOnInit() {\n\n    //this.getDataNative();\n\n  }\n\n  ionViewWillEnter() {\n\n    this.getDataNative();\n\n  }\n\n  async showSpinner() {\n    this.loading = await this.loadingCtrl.create({\n      message: \"Aguarde...\",\n      spinner: \"circles\",\n    });\n\n    this.loading.present();\n    \n  }\n\n  async hideSpinner() {\n\n    this.loading.dismiss();\n\n  }\n\n}"],"sourceRoot":"webpack:///","file":"cons-req-cons-req-module-es5.js"}